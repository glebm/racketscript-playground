import * as $rjs_core from '../../../../runtime/core.js';import * as M0 from "./private/color.rkt.js";import * as M1 from "../../../../runtime/kernel.rkt.js";import * as M2 from "../private/jscommon.rkt.js";import * as M3 from "../../../racketscript-compiler/racketscript/interop.rkt.js";var let_result30 = M1.make_struct_type($rjs_core.Symbol.make("posn"),false,2,0,false,M1.rnull,false,false,$rjs_core.Pair.makeList(0, 1),false,$rjs_core.Symbol.make("posn"));var struct_101 = let_result30.getAt(0);var make_102 = let_result30.getAt(1);var _p103 = let_result30.getAt(2);var _ref104 = let_result30.getAt(3);var _set_bang_105 = let_result30.getAt(4);var let_result31 = M1.values(struct_101,make_102,_p103,M1.make_struct_field_accessor(_ref104,0,$rjs_core.Symbol.make("x")),M1.make_struct_field_accessor(_ref104,1,$rjs_core.Symbol.make("y")));var struct_posn = let_result31.getAt(0);var make_posn = let_result31.getAt(1);var posn_p = let_result31.getAt(2);var posn_x = let_result31.getAt(3);var posn_y = let_result31.getAt(4);var __gt_web_color = function(p109) {if (M1.string_p(p109)) {var if_res34 = M0.string__gt_web_color(p109);} else {if (M0.color_p(p109)) {var if_res33 = M0.color__gt_web_color(p109);} else {if (M1.symbol_p(p109)) {var if_res32 = M0.string__gt_web_color(M1.symbol__gt_string(p109));} else {var if_res32 = M1.error($rjs_core.Symbol.make("color"),"invalid color");}var if_res33 = if_res32;}var if_res34 = if_res33;}return if_res34;};var print_image = function(d110) {var canvas111 = M2.document.createElement("canvas");var ctx112 = canvas111.getContext("2d");M2.document.body.appendChild(canvas111);M2.document.body.appendChild(M2.document.createElement("br"));canvas111.width = d110.width;canvas111.height = d110.height;M2.console.log(d110);ctx112.save();ctx112.translate(d110.width/2,d110.height/2);d110.render(ctx112,0,0);return ctx112.restore();};var canvas113 = M2.document.createElement("canvas");var _times_invisible_canvas_context_times_ = canvas113.getContext("2d");var empty_image = {'type':"empty-image",'width':0,'height':0,'render':function(ctx114, x115, y116) {return M1.rvoid();}};var image_height = function(i117) {return i117.height;};var image_width = function(i118) {return i118.width;};var EmptyScene = function(width119, height120, borders_p121) {this.type = "empty-scene";this.width = width119;this.height = height120;this.borders_p = borders_p121;return null;};EmptyScene.prototype.render = function(ctx122, x123, y124) {return M1.rvoid();};var Text = function(text125, size126, color127, face128, family129, style130, weight131, underline_p132) {this.type = "text";this.text = text125;this.size = size126;this.color = __gt_web_color(color127);this.face = face128;this.family = family129;this.style = style130;this.weight = weight131;this.underline = underline_p132;return this._updateMetrics();};Text.prototype._updateMetrics = function() {var font133 = M2._plus__plus_(this.weight," ",this.style," ",this.size,"px ",this.face," ",this.family);_times_invisible_canvas_context_times_.font = font133;var let_result35 = M1.values();var metrics134 = _times_invisible_canvas_context_times_.measureText(this.text);this.font = font133;this.width = metrics134.width;this.height = this.size;return null;};Text.prototype.render = function(ctx135, x136, y137) {ctx135.save();ctx135.translate(x136,y137);ctx135.font = this.font;ctx135.textAlign = "center";ctx135.textBaseline = "middle";ctx135.fillStyle = this.color;ctx135.fillText(this.text,0,0);return ctx135.restore();};var Line = function(x138, y139, pen_or_color140) {this.type = "line";this.width = M2.abs_plus_ceil(x138);this.height = M2.abs_plus_ceil(y139);this.mode = false;this.pen = pen_or_color140;return null;};Line.prototype.render = function(ctx141, x142, y143) {ctx141.save();var let_result36 = M1.values();ctx141.translate(x142,y143);var let_result37 = M1.values();ctx141.beginPath();var let_result38 = M1.values();var sx144 = M1._(M2.abs(this.x/2));var sy145 = M1._(M2.abs(this.y/2));if (M1._gt__eq_(x142,0)) {var if_res39 = M1._gt__eq_(y143,0);} else {var if_res39 = false;}if (if_res39) {ctx141.moveTo(sx144,sy145);var if_res46 = ctx141.lineTo(sx144+x142,sy145+y143);} else {if (M1._gt__eq_(x142,0)) {var if_res40 = M1._lt_(y143,0);} else {var if_res40 = false;}if (if_res40) {ctx141.moveTo(sx144+x142,sy145);var if_res45 = ctx141.lineTo(sx144,sy145-y143);} else {if (M1._lt_(x142,0)) {var if_res41 = M1._gt__eq_(y143,0);} else {var if_res41 = false;}if (if_res41) {ctx141.moveTo(sx144,sy145+y143);var if_res44 = ctx141.lineTo(sx144-x142,sy145);} else {if (M1._lt_(x142,0)) {var if_res42 = M1._lt_(y143,0);} else {var if_res42 = false;}if (if_res42) {ctx141.moveTo(sx144-x142,sy145-y143);var if_res43 = ctx141.lineTo(sx144,sy145);} else {var if_res43 = M1.rvoid();}var if_res44 = if_res43;}var if_res45 = if_res44;}var if_res46 = if_res45;}if_res46;var or_part146 = M1.equal_p("outline",$rjs_core.Symbol.make("outline"));if (or_part146) {var if_res47 = or_part146;} else {var if_res47 = M1.equal_p("outline","outline");}if (if_res47) {ctx141.strokeStyle = __gt_web_color(this.pen);var if_res50 = ctx141.stroke();} else {var or_part147 = M1.equal_p("outline",$rjs_core.Symbol.make("solid"));if (or_part147) {var if_res48 = or_part147;} else {var if_res48 = M1.equal_p("outline","solid");}if (if_res48) {ctx141.fillStyle = __gt_web_color(this.pen);var if_res49 = ctx141.fill();} else {var if_res49 = M1.rvoid();}var if_res50 = if_res49;}if_res50;ctx141.closePath();return ctx141.restore();};var Rectangle = function(width148, height149, mode150, pen_or_color151) {this.type = "rectangle";this.width = width148;this.height = height149;this.mode = mode150;this.pen = pen_or_color151;return null;};Rectangle.prototype.render = function(ctx152, x153, y154) {ctx152.save();ctx152.translate(x153,y154);ctx152.beginPath();var width155 = this.width;var height156 = this.height;var start_x157 = M1._(width155/2);var start_y158 = M1._(height156/2);ctx152.rect(start_x157,start_y158,width155,height156);var or_part159 = M1.equal_p(this.mode,$rjs_core.Symbol.make("outline"));if (or_part159) {var if_res51 = or_part159;} else {var if_res51 = M1.equal_p(this.mode,"outline");}if (if_res51) {ctx152.strokeStyle = __gt_web_color(this.pen);var if_res54 = ctx152.stroke();} else {var or_part160 = M1.equal_p(this.mode,$rjs_core.Symbol.make("solid"));if (or_part160) {var if_res52 = or_part160;} else {var if_res52 = M1.equal_p(this.mode,"solid");}if (if_res52) {ctx152.fillStyle = __gt_web_color(this.pen);var if_res53 = ctx152.fill();} else {var if_res53 = M1.rvoid();}var if_res54 = if_res53;}if_res54;ctx152.closePath();return ctx152.restore();};var Circle = function(radius161, mode162, pen_or_color163) {var diameter164 = radius161*2;this.type = "circle";this.radius = radius161;this.width = diameter164;this.height = diameter164;this.mode = mode162;this.pen = pen_or_color163;return null;};Circle.prototype.render = function(ctx165, x166, y167) {var radius168 = this.radius;ctx165.save();ctx165.translate(x166,y167);ctx165.beginPath();ctx165.ellipse(0,0,radius168,radius168,0,0,M2.Math.PI*2);var or_part169 = M1.equal_p(this.mode,$rjs_core.Symbol.make("outline"));if (or_part169) {var if_res55 = or_part169;} else {var if_res55 = M1.equal_p(this.mode,"outline");}if (if_res55) {ctx165.strokeStyle = __gt_web_color(this.pen);var if_res58 = ctx165.stroke();} else {var or_part170 = M1.equal_p(this.mode,$rjs_core.Symbol.make("solid"));if (or_part170) {var if_res56 = or_part170;} else {var if_res56 = M1.equal_p(this.mode,"solid");}if (if_res56) {ctx165.fillStyle = __gt_web_color(this.pen);var if_res57 = ctx165.fill();} else {var if_res57 = M1.rvoid();}var if_res58 = if_res57;}if_res58;ctx165.closePath();return ctx165.restore();};var Polygon = function(vertices171, mode172, pen_or_color173) {var xs174 = M1.map(posn_x,vertices171);var ys175 = M1.map(posn_y,vertices171);M1.displayln(xs174);var let_result59 = M1.values();M1.displayln(ys175);var let_result60 = M1.values();var width176 = M1.apply(M2.max,xs174)-M1.apply(M2.min,xs174);var height177 = M1.apply(M2.max,ys175)-M1.apply(M2.min,xs174);this.type = "polygon";this.vertices = vertices171;this.width = width176;this.height = height177;this.mode = mode172;this.pen = pen_or_color173;return null;};Polygon.prototype.render = function(ctx178, x179, y180) {var first_point181 = M1.car(this.vertices);var rest_points182 = M1.cdr(this.vertices);var radius183 = this.radius;ctx178.save();ctx178.translate(x179,y180);ctx178.beginPath();ctx178.moveTo(posn_x(first_point181),posn_y(first_point181));var loop184 = function(points185) {if (M1.null_p(points185)) {var if_res61 = M1.rvoid();} else {var pt186 = M1.car(points185);ctx178.lineTo(posn_x(pt186),posn_y(pt186));var if_res61 = loop184(M1.cdr(points185));}return if_res61;};loop184(rest_points182);var or_part187 = M1.equal_p(this.mode,$rjs_core.Symbol.make("outline"));if (or_part187) {var if_res62 = or_part187;} else {var if_res62 = M1.equal_p(this.mode,"outline");}if (if_res62) {ctx178.strokeStyle = __gt_web_color(this.pen);var if_res65 = ctx178.stroke();} else {var or_part188 = M1.equal_p(this.mode,$rjs_core.Symbol.make("solid"));if (or_part188) {var if_res63 = or_part188;} else {var if_res63 = M1.equal_p(this.mode,"solid");}if (if_res63) {ctx178.fillStyle = __gt_web_color(this.pen);var if_res64 = ctx178.fill();} else {var if_res64 = M1.rvoid();}var if_res65 = if_res64;}if_res65;ctx178.closePath();return ctx178.restore();};var empty_scene = function(width189, height190) {return new EmptyScene(width189,height190,false);};var text = function(txt191, size192, color193) {return new Text(txt191,size192,color193,"","serif","normal","normal",false);};var line = function(x194, y195, pen_or_color196) {return new Line(x194,y195,pen_or_color196);};var rectangle = function(w197, h198, m199, p200) {return new Rectangle(w197,h198,m199,p200);};var square = function(s201, m202, p203) {return new Rectangle(s201,s201,m202,p203);};var circle = function(r204, m205, p206) {return new Circle(r204,m205,p206);};var triangle = function(side207, mode208, color209) {var height210 = side207*(M2.sqrt(3)/2);return new Polygon(M1.list(make_posn(M1._(side207/2),height210/2),make_posn(0,M1._(height210/2)),make_posn(side207/2,height210/2)),mode208,color209);};var Overlay = function(x_place211, y_place212, ima213, imb214) {var ima_cx215 = ima213.width/2;var ima_cy216 = ima213.height/2;var imb_cx217 = imb214.width/2;var imb_cy218 = imb214.height/2;var tmp220 = x_place211;if (M1.equal_p(tmp220,"beside")) {var if_res68 = ima213.width+imb214.width;} else {if (M1.number_p(x_place211)) {if (M1.positive_p(x_place211)) {var if_res66 = M2.max(ima213.width,imb214.width+x_place211);} else {var if_res66 = M2.max(imb214.width,ima213.width-x_place211);}var if_res67 = if_res66;} else {var if_res67 = M2.max(ima213.width,imb214.width);}var if_res68 = if_res67;}var width219 = if_res68;var tmp222 = y_place212;if (M1.equal_p(tmp222,"above")) {var if_res71 = ima213.height+imb214.height;} else {if (M1.number_p(y_place212)) {if (M1.positive_p(y_place212)) {var if_res69 = M2.max(ima213.height,imb214.height+y_place212);} else {var if_res69 = M2.max(imb214.height,ima213.height-y_place212);}var if_res70 = if_res69;} else {var if_res70 = M2.max(ima213.height,imb214.height);}var if_res71 = if_res70;}var height221 = if_res71;var δ_edge_x223 = width219/2;var δ_edge_y224 = height221/2;var tmp227 = x_place211;if (M1.equal_p(tmp227,"left")) {var if_res78 = M1.values(ima_cx215-δ_edge_x223,imb_cx217-δ_edge_x223);} else {if (M1.equal_p(tmp227,"right")) {var if_res77 = M1.values(δ_edge_x223-ima_cx215,δ_edge_x223-imb_cx217);} else {if (M1.equal_p(tmp227,"beside")) {var if_res76 = M1.values(ima_cx215-δ_edge_x223,δ_edge_x223-imb_cx217);} else {if (M1.equal_p(tmp227,"middle")) {var if_res72 = true;} else {var if_res72 = M1.equal_p(tmp227,"center");}if (if_res72) {var if_res75 = M1.values(0,0);} else {if (M1.number_p(x_place211)) {var local_width228 = M2.max(ima213.width,imb214.width);var local_acx229 = ima_cx215-(local_width228/2);var local_bcx230 = imb_cx217-(local_width228/2);var acx_bcx231 = δ_edge_x223-(local_width228/2);if (M1.positive_p(x_place211)) {var if_res73 = M1.values(local_acx229-acx_bcx231,x_place211+(local_bcx230-acx_bcx231));} else {var if_res73 = M1.values(local_acx229-x_place211-acx_bcx231,local_bcx230-acx_bcx231);}var if_res74 = if_res73;} else {var if_res74 = M1.error("invalid x-place align");}var if_res75 = if_res74;}var if_res76 = if_res75;}var if_res77 = if_res76;}var if_res78 = if_res77;}var let_result79 = if_res78;var δ_a_x225 = let_result79.getAt(0);var δ_b_x226 = let_result79.getAt(1);var tmp234 = y_place212;if (M1.equal_p(tmp234,"top")) {var if_res86 = M1.values(ima_cy216-δ_edge_y224,imb_cy218-δ_edge_y224);} else {if (M1.equal_p(tmp234,"bottom")) {var if_res85 = M1.values(δ_edge_y224-ima_cy216,δ_edge_y224-imb_cy218);} else {if (M1.equal_p(tmp234,"above")) {var if_res84 = M1.values(ima_cy216-δ_edge_y224,δ_edge_y224-imb_cy218);} else {if (M1.equal_p(tmp234,"middle")) {var if_res80 = true;} else {var if_res80 = M1.equal_p(tmp234,"center");}if (if_res80) {var if_res83 = M1.values(0,0);} else {if (M1.number_p(y_place212)) {var local_height235 = M2.max(ima213.height,imb214.height);var local_acy236 = ima_cy216-(local_height235/2);var local_bcy237 = imb_cy218-(local_height235/2);var acy_bcy238 = δ_edge_y224-(local_height235/2);if (M1.positive_p(y_place212)) {var if_res81 = M1.values(local_acy236-acy_bcy238,y_place212+(local_bcy237-acy_bcy238));} else {var if_res81 = M1.values(local_acy236-y_place212-acy_bcy238,local_bcy237-acy_bcy238);}var if_res82 = if_res81;} else {var if_res82 = M1.error("invalid y-place align");}var if_res83 = if_res82;}var if_res84 = if_res83;}var if_res85 = if_res84;}var if_res86 = if_res85;}var let_result87 = if_res86;var δ_a_y232 = let_result87.getAt(0);var δ_b_y233 = let_result87.getAt(1);this.type = "overlay";this.ima = ima213;this.imb = imb214;this.width = width219;this.height = height221;this.aDx = δ_a_x225;this.aDy = δ_a_y232;this.bDx = δ_b_x226;this.bDy = δ_b_y233;return null;};Overlay.prototype.render = function(ctx239, x240, y241) {var ima242 = this.ima;var imb243 = this.imb;ctx239.save();ctx239.translate(x240,y241);imb243.render(ctx239,this.bDx,this.bDy);ima242.render(ctx239,this.aDx,this.aDy);return ctx239.restore();};var Container = function(childs244, posns245, width246, height247) {this.type = "container";this.childs = childs244;this.posns = posns245;this.width = width246;this.height = height247;return null;};Container.prototype.render = function(ctx248, x249, y250) {var width251 = this.width;var height252 = this.height;ctx248.save();ctx248.translate(x249-(width251/2),y250-(height252/2));ctx248.beginPath();ctx248.rect(0,0,M1.sub1(width251),M1.sub1(height252));ctx248.clip();var loop253 = function(childs254, posns255) {if (M1.null_p(childs254)) {var if_res88 = M1.rvoid();} else {var child256 = M1.car(childs254);var posn257 = M1.car(posns255);child256.render(ctx248,posn_x(posn257),posn_y(posn257));var if_res88 = loop253(M1.cdr(childs254),M1.cdr(posns255));}return if_res88;};loop253(this.childs,this.posns);return ctx248.restore();};var Bitmap = function(data258) {var self259 = this;var image260 = new Image;image260.src = data258;self259.image = image260;self259.width = image260.width;self259.height = image260.height;return null;};Bitmap.prototype.render = function(ctx261, x262, y263) {var image264 = this.image;ctx261.save();ctx261.translate(x262,y263);ctx261.drawImage(image264,M1._(image264.width/2),M1._(image264.height/2));return ctx261.restore();};var Rotate = function(image265, angle266) {var width267 = image265.width;var height268 = image265.height;var θ269 = (M2.Math.PI*angle266)/180.0;var sin_θ270 = M2.sin(θ269);var cos_θ271 = M2.cos(θ269);var x1272 = cos_θ271*width267;var y1273 = sin_θ270*width267;var x2274 = M1._(sin_θ270)*height268;var y2275 = cos_θ271*height268;var x3276 = x1272+x2274;var y3277 = y1273+y2275;var min_x278 = M2.min(0,x1272,x2274,x3276);var max_x279 = M2.max(0,x1272,x2274,x3276);var min_y280 = M2.min(0,y1273,y2275,y3277);var max_y281 = M2.max(0,y1273,y2275,y3277);var rotated_width282 = M2.floor(max_x279-min_x278);var rotated_height283 = M2.floor(max_y281-min_y280);this.image = image265;this.width = rotated_width282;this.height = rotated_height283;this.degrees = angle266;this.radians = θ269;return null;};Rotate.prototype.render = function(ctx284, x285, y286) {1;ctx284.save();ctx284.translate(x285,y286);ctx284.rotate(this.radians);this.image.render(ctx284,0,0);return ctx284.restore();};var Scale = function(image287, x_factor288, y_factor289) {this.image = image287;this.x_factor = x_factor288;this.y_factor = y_factor289;this.width = M2.abs(M2.floor(image287.width*x_factor288));this.height = M2.abs(M2.floor(image287.height*y_factor289));return null;};Scale.prototype.render = function(ctx290, x291, y292) {ctx290.save();ctx290.translate(x291,y292);ctx290.scale(this.x_factor,this.y_factor);this.image.render(ctx290,0,0);return ctx290.restore();};var container = function(childs293, posns294, width295, height296) {return new Container(childs293,posns294,width295,height296);};var place_image = function(child297, cx298, cy299, base300) {var width301 = base300.width;var height302 = base300.height;return container(M1.list(base300,child297),M1.list(make_posn(width301/2,height302/2),make_posn(cx298,cy299)),width301,height302);};var place_images = function(images303, posns304, scene305) {var width306 = scene305.width;var height307 = scene305.height;return container(M1.cons(scene305,images303),M1.cons(make_posn(width306/2,height307/2),posns304),width306,height307);};var _align_image_pos = function(image308, pos309, x_place310, y_place311) {var x312 = posn_x(pos309);var y313 = posn_y(pos309);var tmp315 = x_place310;if (M1.equal_p(tmp315,"left")) {var if_res92 = (image308.width/2)+x312;} else {if (M1.equal_p(tmp315,"right")) {var if_res91 = x312-(image308.width/2);} else {if (M1.equal_p(tmp315,"center")) {var if_res89 = true;} else {var if_res89 = M1.equal_p(tmp315,"middle");}if (if_res89) {var if_res90 = x312;} else {var if_res90 = M1.rvoid();}var if_res91 = if_res90;}var if_res92 = if_res91;}var new_x314 = if_res92;var tmp317 = y_place311;if (M1.equal_p(tmp317,"top")) {var if_res96 = (image308.height/2)+y313;} else {if (M1.equal_p(tmp317,"bottom")) {var if_res95 = y313-(image308.height/2);} else {if (M1.equal_p(tmp317,"center")) {var if_res93 = true;} else {var if_res93 = M1.equal_p(tmp317,"middle");}if (if_res93) {var if_res94 = y313;} else {var if_res94 = M1.rvoid();}var if_res95 = if_res94;}var if_res96 = if_res95;}var new_y316 = if_res96;return make_posn(new_x314,new_y316);};var place_image_by_align = function(image318, x319, y320, x_place321, y_place322, scene323) {var new_pos324 = _align_image_pos(image318,make_posn(x319,y320),x_place321,y_place322);return place_image(image318,posn_x(new_pos324),posn_y(new_pos324),scene323);};var place_images_by_align = function(images325, posns326, x_place327, y_place328, scene329) {var new_posns330 = M1.map(function(i331, p332) {return _align_image_pos(i331,p332,x_place327,y_place328);},images325,posns326);M1.displayln(new_posns330);M1.displayln(posns326);return place_images(images325,new_posns330,scene329);};var _single_overlay = function(x_place334, y_place335, ima336, imb337) {return new Overlay(x_place334,y_place335,ima336,imb337);};var _single_underlay = function(x_place338, y_place339, ima340, imb341) {return new Overlay(x_place338,y_place339,imb341,ima340);};var overlay_by_align = function() {var x_place342 = arguments[0];var y_place343 = arguments[1];var ima344 = arguments[2];var imb345 = arguments[3];var imn346 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),4));return M1.foldl(function(img347, acc348) {return _single_overlay(x_place342,y_place343,acc348,img347);},empty_image,M1.cons(ima344,M1.cons(imb345,imn346)));};var overlay = function() {var ima349 = arguments[0];var imb350 = arguments[1];var imn351 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),2));return M1.foldl(function(img352, acc353) {return _single_overlay("middle","middle",acc353,img352);},empty_image,M1.cons(ima349,M1.cons(imb350,imn351)));};var overlay_by_xy = function(ima354, x355, y356, imb357) {return new Overlay(x355,y356,ima354,imb357);};var underlay = function() {var ima358 = arguments[0];var imb359 = arguments[1];var imn360 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),2));return M1.foldl(function(img361, acc362) {return _single_underlay("middle","middle",acc362,img361);},empty_image,M1.cons(ima358,M1.cons(imb359,imn360)));};var underlay_by_align = function() {var x_place363 = arguments[0];var y_place364 = arguments[1];var ima365 = arguments[2];var imb366 = arguments[3];var imn367 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),4));return M1.foldl(function(img368, acc369) {return _single_underlay(x_place363,y_place364,acc369,img368);},empty_image,M1.cons(ima365,M1.cons(imb366,imn367)));};var underlay_by_xy = function(ima370, x371, y372, imb373) {return new Overlay(M1._(x371),M1._(y372),imb373,ima370);};var above_by_align = function() {var x_place374 = arguments[0];var i1375 = arguments[1];var i2376 = arguments[2];var is377 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),3));return M1.foldl(function(img378, acc379) {return _single_overlay(x_place374,"above",acc379,img378);},empty_image,M1.cons(i1375,M1.cons(i2376,is377)));};var above = function() {var i1380 = arguments[0];var i2381 = arguments[1];var is382 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),2));return M1.foldl(function(img383, acc384) {return _single_overlay("middle","above",acc384,img383);},empty_image,M1.cons(i1380,M1.cons(i2381,is382)));};var beside_by_align = function() {var y_place385 = arguments[0];var i1386 = arguments[1];var i2387 = arguments[2];var is388 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),3));return M1.foldl(function(img389, acc390) {return _single_overlay("beside",y_place385,acc390,img389);},empty_image,M1.cons(i1386,M1.cons(i2387,is388)));};var beside = function() {var i1391 = arguments[0];var i2392 = arguments[1];var is393 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),2));return M1.foldl(function(img394, acc395) {return _single_overlay("beside","middle",acc395,img394);},empty_image,M1.cons(i1391,M1.cons(i2392,is393)));};var rotate = function(angle396, image397) {return new Rotate(image397,M1._(angle396));};var scale = function(factor398, image399) {return new Scale(image399,factor398,factor398);};var flip_horizontal = function(image400) {return new Scale(image400,-1,1);};var flip_vertical = function(image401) {return new Scale(image401,1,-1);};var bitmap_by_data = function(data402) {return new Bitmap(data402);};export { empty_image,empty_scene,image_height,image_width,line,rectangle,square,circle,text,triangle,place_image,place_images,place_image_by_align,place_images_by_align,overlay_by_align,overlay_by_xy,overlay,underlay,underlay_by_xy,above_by_align,above,beside_by_align,beside,rotate,scale,flip_vertical,flip_horizontal,bitmap_by_data,print_image,struct_posn,make_posn,posn_p,posn_y,posn_x };