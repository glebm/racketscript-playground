import * as $rjs_core from '../../../../runtime/core.js';import * as M0 from "./private/color.rkt.js";import * as M1 from "../../../../runtime/kernel.rkt.js";import * as M2 from "../private/jscommon.rkt.js";import * as M3 from "../../../racketscript-compiler/racketscript/interop.rkt.js";var let_result935 = M1.make_struct_type($rjs_core.Symbol.make("posn"),false,2,0,false,M1.rnull,false,false,$rjs_core.Pair.makeList(0, 1),false,$rjs_core.Symbol.make("posn"));var struct_442 = let_result935.getAt(0);var make_443 = let_result935.getAt(1);var _p444 = let_result935.getAt(2);var _ref445 = let_result935.getAt(3);var _set_bang_446 = let_result935.getAt(4);var let_result936 = M1.values(struct_442,make_443,_p444,M1.make_struct_field_accessor(_ref445,0,$rjs_core.Symbol.make("x")),M1.make_struct_field_accessor(_ref445,1,$rjs_core.Symbol.make("y")));var struct_posn = let_result936.getAt(0);var make_posn = let_result936.getAt(1);var posn_p = let_result936.getAt(2);var posn_x = let_result936.getAt(3);var posn_y = let_result936.getAt(4);var __gt_web_color = function(p450) {if (M1.string_p(p450)) {var if_res939 = M0.string__gt_web_color(p450);} else {if (M0.color_p(p450)) {var if_res938 = M0.color__gt_web_color(p450);} else {if (M1.symbol_p(p450)) {var if_res937 = M0.string__gt_web_color(M1.symbol__gt_string(p450));} else {var if_res937 = M1.error($rjs_core.Symbol.make("color"),"invalid color");}var if_res938 = if_res937;}var if_res939 = if_res938;}return if_res939;};var print_image = function(d451) {var canvas452 = M2.document.createElement("canvas");var ctx453 = canvas452.getContext("2d");M2.document.body.appendChild(canvas452);M2.document.body.appendChild(M2.document.createElement("br"));canvas452.width = d451.width;canvas452.height = d451.height;M2.console.log(d451);ctx453.save();ctx453.translate(d451.width/2,d451.height/2);d451.render(ctx453,0,0);return ctx453.restore();};var canvas454 = M2.document.createElement("canvas");var _times_invisible_canvas_context_times_ = canvas454.getContext("2d");var empty_image = {'type':"empty-image",'width':0,'height':0,'render':function(ctx455, x456, y457) {return M1.rvoid();}};var image_height = function(i458) {return i458.height;};var image_width = function(i459) {return i459.width;};var EmptyScene = function(width460, height461, borders_p462) {this.type = "empty-scene";this.width = width460;this.height = height461;this.borders_p = borders_p462;return null;};EmptyScene.prototype.render = function(ctx463, x464, y465) {return M1.rvoid();};var Text = function(text466, size467, color468, face469, family470, style471, weight472, underline_p473) {this.type = "text";this.text = text466;this.size = size467;this.color = __gt_web_color(color468);this.face = face469;this.family = family470;this.style = style471;this.weight = weight472;this.underline = underline_p473;return this._updateMetrics();};Text.prototype._updateMetrics = function() {var font474 = M2._plus__plus_(this.weight," ",this.style," ",this.size,"px ",this.face," ",this.family);_times_invisible_canvas_context_times_.font = font474;var let_result940 = M1.values();var metrics475 = _times_invisible_canvas_context_times_.measureText(this.text);this.font = font474;this.width = metrics475.width;this.height = this.size;return null;};Text.prototype.render = function(ctx476, x477, y478) {ctx476.save();ctx476.translate(x477,y478);ctx476.font = this.font;ctx476.textAlign = "center";ctx476.textBaseline = "middle";ctx476.fillStyle = this.color;ctx476.fillText(this.text,0,0);return ctx476.restore();};var Line = function(x479, y480, pen_or_color481) {this.type = "line";this.width = M2.abs_plus_ceil(x479);this.height = M2.abs_plus_ceil(y480);this.mode = false;this.pen = pen_or_color481;return null;};Line.prototype.render = function(ctx482, x483, y484) {ctx482.save();var let_result941 = M1.values();ctx482.translate(x483,y484);var let_result942 = M1.values();ctx482.beginPath();var let_result943 = M1.values();var sx485 = M1._(M1.abs(this.x/2));var sy486 = M1._(M1.abs(this.y/2));if (M1._gt__eq_(x483,0)) {var if_res944 = M1._gt__eq_(y484,0);} else {var if_res944 = false;}if (if_res944) {ctx482.moveTo(sx485,sy486);var if_res951 = ctx482.lineTo(sx485+x483,sy486+y484);} else {if (M1._gt__eq_(x483,0)) {var if_res945 = M1._lt_(y484,0);} else {var if_res945 = false;}if (if_res945) {ctx482.moveTo(sx485+x483,sy486);var if_res950 = ctx482.lineTo(sx485,sy486-y484);} else {if (M1._lt_(x483,0)) {var if_res946 = M1._gt__eq_(y484,0);} else {var if_res946 = false;}if (if_res946) {ctx482.moveTo(sx485,sy486+y484);var if_res949 = ctx482.lineTo(sx485-x483,sy486);} else {if (M1._lt_(x483,0)) {var if_res947 = M1._lt_(y484,0);} else {var if_res947 = false;}if (if_res947) {ctx482.moveTo(sx485-x483,sy486-y484);var if_res948 = ctx482.lineTo(sx485,sy486);} else {var if_res948 = M1.rvoid();}var if_res949 = if_res948;}var if_res950 = if_res949;}var if_res951 = if_res950;}if_res951;var or_part487 = M1.equal_p("outline",$rjs_core.Symbol.make("outline"));if (or_part487) {var if_res952 = or_part487;} else {var if_res952 = M1.equal_p("outline","outline");}if (if_res952) {ctx482.strokeStyle = __gt_web_color(this.pen);var if_res955 = ctx482.stroke();} else {var or_part488 = M1.equal_p("outline",$rjs_core.Symbol.make("solid"));if (or_part488) {var if_res953 = or_part488;} else {var if_res953 = M1.equal_p("outline","solid");}if (if_res953) {ctx482.fillStyle = __gt_web_color(this.pen);var if_res954 = ctx482.fill();} else {var if_res954 = M1.rvoid();}var if_res955 = if_res954;}if_res955;ctx482.closePath();return ctx482.restore();};var Rectangle = function(width489, height490, mode491, pen_or_color492) {this.type = "rectangle";this.width = width489;this.height = height490;this.mode = mode491;this.pen = pen_or_color492;return null;};Rectangle.prototype.render = function(ctx493, x494, y495) {ctx493.save();ctx493.translate(x494,y495);ctx493.beginPath();var width496 = this.width;var height497 = this.height;var start_x498 = M1._(width496/2);var start_y499 = M1._(height497/2);ctx493.rect(start_x498,start_y499,width496,height497);var or_part500 = M1.equal_p(this.mode,$rjs_core.Symbol.make("outline"));if (or_part500) {var if_res956 = or_part500;} else {var if_res956 = M1.equal_p(this.mode,"outline");}if (if_res956) {ctx493.strokeStyle = __gt_web_color(this.pen);var if_res959 = ctx493.stroke();} else {var or_part501 = M1.equal_p(this.mode,$rjs_core.Symbol.make("solid"));if (or_part501) {var if_res957 = or_part501;} else {var if_res957 = M1.equal_p(this.mode,"solid");}if (if_res957) {ctx493.fillStyle = __gt_web_color(this.pen);var if_res958 = ctx493.fill();} else {var if_res958 = M1.rvoid();}var if_res959 = if_res958;}if_res959;ctx493.closePath();return ctx493.restore();};var Circle = function(radius502, mode503, pen_or_color504) {var diameter505 = radius502*2;this.type = "circle";this.radius = radius502;this.width = diameter505;this.height = diameter505;this.mode = mode503;this.pen = pen_or_color504;return null;};Circle.prototype.render = function(ctx506, x507, y508) {var radius509 = this.radius;ctx506.save();ctx506.translate(x507,y508);ctx506.beginPath();ctx506.ellipse(0,0,radius509,radius509,0,0,M2.Math.PI*2);var or_part510 = M1.equal_p(this.mode,$rjs_core.Symbol.make("outline"));if (or_part510) {var if_res960 = or_part510;} else {var if_res960 = M1.equal_p(this.mode,"outline");}if (if_res960) {ctx506.strokeStyle = __gt_web_color(this.pen);var if_res963 = ctx506.stroke();} else {var or_part511 = M1.equal_p(this.mode,$rjs_core.Symbol.make("solid"));if (or_part511) {var if_res961 = or_part511;} else {var if_res961 = M1.equal_p(this.mode,"solid");}if (if_res961) {ctx506.fillStyle = __gt_web_color(this.pen);var if_res962 = ctx506.fill();} else {var if_res962 = M1.rvoid();}var if_res963 = if_res962;}if_res963;ctx506.closePath();return ctx506.restore();};var Polygon = function(vertices512, mode513, pen_or_color514) {var xs515 = M1.map(posn_x,vertices512);var ys516 = M1.map(posn_y,vertices512);var width517 = M1.apply(M1.max,xs515)-M1.apply(M1.min,xs515);var height518 = M1.apply(M1.max,ys516)-M1.apply(M1.min,xs515);this.type = "polygon";this.vertices = vertices512;this.width = width517;this.height = height518;this.mode = mode513;this.pen = pen_or_color514;return null;};Polygon.prototype.render = function(ctx519, x520, y521) {var first_point522 = M1.car(this.vertices);var rest_points523 = M1.cdr(this.vertices);var radius524 = this.radius;ctx519.save();ctx519.translate(x520,y521);ctx519.beginPath();ctx519.moveTo(posn_x(first_point522),posn_y(first_point522));var loop525 = function(points526) {if (M1.null_p(points526)) {var if_res964 = M1.rvoid();} else {var pt527 = M1.car(points526);ctx519.lineTo(posn_x(pt527),posn_y(pt527));var if_res964 = loop525(M1.cdr(points526));}return if_res964;};loop525(rest_points523);var or_part528 = M1.equal_p(this.mode,$rjs_core.Symbol.make("outline"));if (or_part528) {var if_res965 = or_part528;} else {var if_res965 = M1.equal_p(this.mode,"outline");}if (if_res965) {ctx519.strokeStyle = __gt_web_color(this.pen);var if_res968 = ctx519.stroke();} else {var or_part529 = M1.equal_p(this.mode,$rjs_core.Symbol.make("solid"));if (or_part529) {var if_res966 = or_part529;} else {var if_res966 = M1.equal_p(this.mode,"solid");}if (if_res966) {ctx519.fillStyle = __gt_web_color(this.pen);var if_res967 = ctx519.fill();} else {var if_res967 = M1.rvoid();}var if_res968 = if_res967;}if_res968;ctx519.closePath();return ctx519.restore();};var empty_scene = function(width530, height531) {return new EmptyScene(width530,height531,false);};var text = function(txt532, size533, color534) {return new Text(txt532,size533,color534,"","serif","normal","normal",false);};var line = function(x535, y536, pen_or_color537) {return new Line(x535,y536,pen_or_color537);};var rectangle = function(w538, h539, m540, p541) {return new Rectangle(w538,h539,m540,p541);};var square = function(s542, m543, p544) {return new Rectangle(s542,s542,m543,p544);};var circle = function(r545, m546, p547) {return new Circle(r545,m546,p547);};var triangle = function(side548, mode549, color550) {var height551 = side548*(M1.sqrt(3)/2);return new Polygon(M1.list(make_posn(M1._(side548/2),height551/2),make_posn(0,M1._(height551/2)),make_posn(side548/2,height551/2)),mode549,color550);};var Overlay = function(x_place552, y_place553, ima554, imb555) {var ima_cx556 = ima554.width/2;var ima_cy557 = ima554.height/2;var imb_cx558 = imb555.width/2;var imb_cy559 = imb555.height/2;var tmp561 = x_place552;if (M1.equal_p(tmp561,"beside")) {var if_res971 = ima554.width+imb555.width;} else {if (M1.number_p(x_place552)) {if (M1.positive_p(x_place552)) {var if_res969 = M1.max(ima554.width,imb555.width+x_place552);} else {var if_res969 = M1.max(imb555.width,ima554.width-x_place552);}var if_res970 = if_res969;} else {var if_res970 = M1.max(ima554.width,imb555.width);}var if_res971 = if_res970;}var width560 = if_res971;var tmp563 = y_place553;if (M1.equal_p(tmp563,"above")) {var if_res974 = ima554.height+imb555.height;} else {if (M1.number_p(y_place553)) {if (M1.positive_p(y_place553)) {var if_res972 = M1.max(ima554.height,imb555.height+y_place553);} else {var if_res972 = M1.max(imb555.height,ima554.height-y_place553);}var if_res973 = if_res972;} else {var if_res973 = M1.max(ima554.height,imb555.height);}var if_res974 = if_res973;}var height562 = if_res974;var δ_edge_x564 = width560/2;var δ_edge_y565 = height562/2;var tmp568 = x_place552;if (M1.equal_p(tmp568,"left")) {var if_res981 = M1.values(ima_cx556-δ_edge_x564,imb_cx558-δ_edge_x564);} else {if (M1.equal_p(tmp568,"right")) {var if_res980 = M1.values(δ_edge_x564-ima_cx556,δ_edge_x564-imb_cx558);} else {if (M1.equal_p(tmp568,"beside")) {var if_res979 = M1.values(ima_cx556-δ_edge_x564,δ_edge_x564-imb_cx558);} else {if (M1.equal_p(tmp568,"middle")) {var if_res975 = true;} else {var if_res975 = M1.equal_p(tmp568,"center");}if (if_res975) {var if_res978 = M1.values(0,0);} else {if (M1.number_p(x_place552)) {var local_width569 = M1.max(ima554.width,imb555.width);var local_acx570 = ima_cx556-(local_width569/2);var local_bcx571 = imb_cx558-(local_width569/2);var acx_bcx572 = δ_edge_x564-(local_width569/2);if (M1.positive_p(x_place552)) {var if_res976 = M1.values(local_acx570-acx_bcx572,x_place552+(local_bcx571-acx_bcx572));} else {var if_res976 = M1.values(local_acx570-x_place552-acx_bcx572,local_bcx571-acx_bcx572);}var if_res977 = if_res976;} else {var if_res977 = M1.error("invalid x-place align");}var if_res978 = if_res977;}var if_res979 = if_res978;}var if_res980 = if_res979;}var if_res981 = if_res980;}var let_result982 = if_res981;var δ_a_x566 = let_result982.getAt(0);var δ_b_x567 = let_result982.getAt(1);var tmp575 = y_place553;if (M1.equal_p(tmp575,"top")) {var if_res989 = M1.values(ima_cy557-δ_edge_y565,imb_cy559-δ_edge_y565);} else {if (M1.equal_p(tmp575,"bottom")) {var if_res988 = M1.values(δ_edge_y565-ima_cy557,δ_edge_y565-imb_cy559);} else {if (M1.equal_p(tmp575,"above")) {var if_res987 = M1.values(ima_cy557-δ_edge_y565,δ_edge_y565-imb_cy559);} else {if (M1.equal_p(tmp575,"middle")) {var if_res983 = true;} else {var if_res983 = M1.equal_p(tmp575,"center");}if (if_res983) {var if_res986 = M1.values(0,0);} else {if (M1.number_p(y_place553)) {var local_height576 = M1.max(ima554.height,imb555.height);var local_acy577 = ima_cy557-(local_height576/2);var local_bcy578 = imb_cy559-(local_height576/2);var acy_bcy579 = δ_edge_y565-(local_height576/2);if (M1.positive_p(y_place553)) {var if_res984 = M1.values(local_acy577-acy_bcy579,y_place553+(local_bcy578-acy_bcy579));} else {var if_res984 = M1.values(local_acy577-y_place553-acy_bcy579,local_bcy578-acy_bcy579);}var if_res985 = if_res984;} else {var if_res985 = M1.error("invalid y-place align");}var if_res986 = if_res985;}var if_res987 = if_res986;}var if_res988 = if_res987;}var if_res989 = if_res988;}var let_result990 = if_res989;var δ_a_y573 = let_result990.getAt(0);var δ_b_y574 = let_result990.getAt(1);this.type = "overlay";this.ima = ima554;this.imb = imb555;this.width = width560;this.height = height562;this.aDx = δ_a_x566;this.aDy = δ_a_y573;this.bDx = δ_b_x567;this.bDy = δ_b_y574;return null;};Overlay.prototype.render = function(ctx580, x581, y582) {var ima583 = this.ima;var imb584 = this.imb;ctx580.save();ctx580.translate(x581,y582);imb584.render(ctx580,this.bDx,this.bDy);ima583.render(ctx580,this.aDx,this.aDy);return ctx580.restore();};var Container = function(childs585, posns586, width587, height588) {this.type = "container";this.childs = childs585;this.posns = posns586;this.width = width587;this.height = height588;return null;};Container.prototype.render = function(ctx589, x590, y591) {var width592 = this.width;var height593 = this.height;ctx589.save();ctx589.translate(x590-(width592/2),y591-(height593/2));ctx589.beginPath();ctx589.rect(0,0,M1.sub1(width592),M1.sub1(height593));ctx589.clip();var loop594 = function(childs595, posns596) {if (M1.null_p(childs595)) {var if_res991 = M1.rvoid();} else {var child597 = M1.car(childs595);var posn598 = M1.car(posns596);child597.render(ctx589,posn_x(posn598),posn_y(posn598));var if_res991 = loop594(M1.cdr(childs595),M1.cdr(posns596));}return if_res991;};loop594(this.childs,this.posns);return ctx589.restore();};var Bitmap = function(data599) {var self600 = this;var image601 = new Image;image601.src = data599;self600.image = image601;self600.width = image601.width;self600.height = image601.height;return null;};Bitmap.prototype.render = function(ctx602, x603, y604) {var image605 = this.image;ctx602.save();ctx602.translate(x603,y604);ctx602.drawImage(image605,M1._(image605.width/2),M1._(image605.height/2));return ctx602.restore();};var Rotate = function(image606, angle607) {var width608 = image606.width;var height609 = image606.height;var θ610 = (M2.Math.PI*angle607)/180.0;var sin_θ611 = M1.sin(θ610);var cos_θ612 = M1.cos(θ610);var x1613 = cos_θ612*width608;var y1614 = sin_θ611*width608;var x2615 = M1._(sin_θ611)*height609;var y2616 = cos_θ612*height609;var x3617 = x1613+x2615;var y3618 = y1614+y2616;var min_x619 = M1.min(0,x1613,x2615,x3617);var max_x620 = M1.max(0,x1613,x2615,x3617);var min_y621 = M1.min(0,y1614,y2616,y3618);var max_y622 = M1.max(0,y1614,y2616,y3618);var rotated_width623 = M1.floor(max_x620-min_x619);var rotated_height624 = M1.floor(max_y622-min_y621);this.image = image606;this.width = rotated_width623;this.height = rotated_height624;this.degrees = angle607;this.radians = θ610;return null;};Rotate.prototype.render = function(ctx625, x626, y627) {1;ctx625.save();ctx625.translate(x626,y627);ctx625.rotate(this.radians);this.image.render(ctx625,0,0);return ctx625.restore();};var Scale = function(image628, x_factor629, y_factor630) {this.image = image628;this.x_factor = x_factor629;this.y_factor = y_factor630;this.width = M1.abs(M1.floor(image628.width*x_factor629));this.height = M1.abs(M1.floor(image628.height*y_factor630));return null;};Scale.prototype.render = function(ctx631, x632, y633) {ctx631.save();ctx631.translate(x632,y633);ctx631.scale(this.x_factor,this.y_factor);this.image.render(ctx631,0,0);return ctx631.restore();};var container = function(childs634, posns635, width636, height637) {return new Container(childs634,posns635,width636,height637);};var place_image = function(child638, cx639, cy640, base641) {var width642 = base641.width;var height643 = base641.height;return container(M1.list(base641,child638),M1.list(make_posn(width642/2,height643/2),make_posn(cx639,cy640)),width642,height643);};var place_images = function(images644, posns645, scene646) {var width647 = scene646.width;var height648 = scene646.height;return container(M1.cons(scene646,images644),M1.cons(make_posn(width647/2,height648/2),posns645),width647,height648);};var _align_image_pos = function(image649, pos650, x_place651, y_place652) {var x653 = posn_x(pos650);var y654 = posn_y(pos650);var tmp656 = x_place651;if (M1.equal_p(tmp656,"left")) {var if_res995 = (image649.width/2)+x653;} else {if (M1.equal_p(tmp656,"right")) {var if_res994 = x653-(image649.width/2);} else {if (M1.equal_p(tmp656,"center")) {var if_res992 = true;} else {var if_res992 = M1.equal_p(tmp656,"middle");}if (if_res992) {var if_res993 = x653;} else {var if_res993 = M1.rvoid();}var if_res994 = if_res993;}var if_res995 = if_res994;}var new_x655 = if_res995;var tmp658 = y_place652;if (M1.equal_p(tmp658,"top")) {var if_res999 = (image649.height/2)+y654;} else {if (M1.equal_p(tmp658,"bottom")) {var if_res998 = y654-(image649.height/2);} else {if (M1.equal_p(tmp658,"center")) {var if_res996 = true;} else {var if_res996 = M1.equal_p(tmp658,"middle");}if (if_res996) {var if_res997 = y654;} else {var if_res997 = M1.rvoid();}var if_res998 = if_res997;}var if_res999 = if_res998;}var new_y657 = if_res999;return make_posn(new_x655,new_y657);};var place_image_by_align = function(image659, x660, y661, x_place662, y_place663, scene664) {var new_pos665 = _align_image_pos(image659,make_posn(x660,y661),x_place662,y_place663);return place_image(image659,posn_x(new_pos665),posn_y(new_pos665),scene664);};var place_images_by_align = function(images666, posns667, x_place668, y_place669, scene670) {var new_posns671 = M1.map(function(i672, p673) {return _align_image_pos(i672,p673,x_place668,y_place669);},images666,posns667);return place_images(images666,new_posns671,scene670);};var _single_overlay = function(x_place675, y_place676, ima677, imb678) {return new Overlay(x_place675,y_place676,ima677,imb678);};var _single_underlay = function(x_place679, y_place680, ima681, imb682) {return new Overlay(x_place679,y_place680,imb682,ima681);};var overlay_by_align = function() {var x_place683 = arguments[0];var y_place684 = arguments[1];var ima685 = arguments[2];var imb686 = arguments[3];var imn687 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),4));return M1.foldl(function(img688, acc689) {return _single_overlay(x_place683,y_place684,acc689,img688);},empty_image,M1.cons(ima685,M1.cons(imb686,imn687)));};var overlay = function() {var ima690 = arguments[0];var imb691 = arguments[1];var imn692 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),2));return M1.foldl(function(img693, acc694) {return _single_overlay("middle","middle",acc694,img693);},empty_image,M1.cons(ima690,M1.cons(imb691,imn692)));};var overlay_by_xy = function(ima695, x696, y697, imb698) {return new Overlay(x696,y697,ima695,imb698);};var underlay = function() {var ima699 = arguments[0];var imb700 = arguments[1];var imn701 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),2));return M1.foldl(function(img702, acc703) {return _single_underlay("middle","middle",acc703,img702);},empty_image,M1.cons(ima699,M1.cons(imb700,imn701)));};var underlay_by_align = function() {var x_place704 = arguments[0];var y_place705 = arguments[1];var ima706 = arguments[2];var imb707 = arguments[3];var imn708 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),4));return M1.foldl(function(img709, acc710) {return _single_underlay(x_place704,y_place705,acc710,img709);},empty_image,M1.cons(ima706,M1.cons(imb707,imn708)));};var underlay_by_xy = function(ima711, x712, y713, imb714) {return new Overlay(M1._(x712),M1._(y713),imb714,ima711);};var above_by_align = function() {var x_place715 = arguments[0];var i1716 = arguments[1];var i2717 = arguments[2];var is718 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),3));return M1.foldl(function(img719, acc720) {return _single_overlay(x_place715,"above",acc720,img719);},empty_image,M1.cons(i1716,M1.cons(i2717,is718)));};var above = function() {var i1721 = arguments[0];var i2722 = arguments[1];var is723 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),2));return M1.foldl(function(img724, acc725) {return _single_overlay("middle","above",acc725,img724);},empty_image,M1.cons(i1721,M1.cons(i2722,is723)));};var beside_by_align = function() {var y_place726 = arguments[0];var i1727 = arguments[1];var i2728 = arguments[2];var is729 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),3));return M1.foldl(function(img730, acc731) {return _single_overlay("beside",y_place726,acc731,img730);},empty_image,M1.cons(i1727,M1.cons(i2728,is729)));};var beside = function() {var i1732 = arguments[0];var i2733 = arguments[1];var is734 = $rjs_core.Pair.listFromArray($rjs_core.argumentsSlice($rjs_core.argumentsToArray(arguments),2));return M1.foldl(function(img735, acc736) {return _single_overlay("beside","middle",acc736,img735);},empty_image,M1.cons(i1732,M1.cons(i2733,is734)));};var rotate = function(angle737, image738) {return new Rotate(image738,M1._(angle737));};var scale = function(factor739, image740) {return new Scale(image740,factor739,factor739);};var flip_horizontal = function(image741) {return new Scale(image741,-1,1);};var flip_vertical = function(image742) {return new Scale(image742,1,-1);};var bitmap_by_data = function(data743) {return new Bitmap(data743);};export { empty_image,empty_scene,image_height,image_width,line,rectangle,square,circle,text,triangle,place_image,place_images,place_image_by_align,place_images_by_align,overlay_by_align,overlay_by_xy,overlay,underlay,underlay_by_xy,above_by_align,above,beside_by_align,beside,rotate,scale,flip_vertical,flip_horizontal,bitmap_by_data,print_image,struct_posn,make_posn,posn_p,posn_y,posn_x };